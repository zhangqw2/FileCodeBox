import{J as q,s as _,aZ as b,aA as ee,a_ as $,a$ as te,a0 as H,F as G,$ as z,aT as P,b0 as K,i as ne,b1 as re,b2 as ae,c as A,aw as R,aW as oe,j as se}from"./index-CxMsK_Ni.js";function ie(e){return re()?(ae(e),!0):!1}const V=new WeakMap,ue=(...e)=>{var t;const n=e[0],r=(t=P())==null?void 0:t.proxy;if(r==null&&!K())throw new Error("injectLocal must be called in setup");return r&&V.has(r)&&n in V.get(r)?V.get(r)[n]:ne(...e)},le=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ce=Object.prototype.toString,fe=e=>ce.call(e)==="[object Object]",de=()=>{};function pe(e,t){function n(...r){return new Promise((s,u)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(s).catch(u)})}return n}const Q=e=>e();function me(e=Q,t={}){const{initialState:n="active"}=t,r=Z(n==="active");function s(){r.value=!1}function u(){r.value=!0}const l=(...a)=>{r.value&&e(...a)};return{isActive:$(r),pause:s,resume:u,eventFilter:l}}function I(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function he(e){return P()}function J(e){return Array.isArray(e)?e:[e]}function Z(...e){if(e.length!==1)return ee(...e);const t=e[0];return typeof t=="function"?$(te(()=>({get:t,set:de}))):_(t)}function ve(e,t,n={}){const{eventFilter:r=Q,...s}=n;return z(e,pe(r,t),s)}function ye(e,t,n={}){const{eventFilter:r,initialState:s="active",...u}=n,{eventFilter:l,pause:a,resume:i,isActive:c}=me(r,{initialState:s});return{stop:ve(e,t,{...u,eventFilter:l}),pause:a,resume:i,isActive:c}}function U(e,t=!0,n){he()?H(e,n):t?e():G(e)}function Fe(e=!1,t={}){const{truthyValue:n=!0,falsyValue:r=!1}=t,s=q(e),u=_(e);function l(a){if(arguments.length)return u.value=a,u.value;{const i=b(n);return u.value=u.value===i?b(r):i,u.value}}return s?l:[u,l]}function ge(e,t,n){return z(e,t,{...n,immediate:!0})}const D=le?window:void 0;function X(e){var t;const n=b(e);return(t=n==null?void 0:n.$el)!=null?t:n}function x(...e){const t=[],n=()=>{t.forEach(a=>a()),t.length=0},r=(a,i,c,m)=>(a.addEventListener(i,c,m),()=>a.removeEventListener(i,c,m)),s=A(()=>{const a=J(b(e[0])).filter(i=>i!=null);return a.every(i=>typeof i!="string")?a:void 0}),u=ge(()=>{var a,i;return[(i=(a=s.value)==null?void 0:a.map(c=>X(c)))!=null?i:[D].filter(c=>c!=null),J(b(s.value?e[1]:e[0])),J(se(s.value?e[2]:e[1])),b(s.value?e[3]:e[2])]},([a,i,c,m])=>{if(n(),!(a!=null&&a.length)||!(i!=null&&i.length)||!(c!=null&&c.length))return;const v=fe(m)?{...m}:m;t.push(...a.flatMap(k=>i.flatMap(y=>c.map(d=>r(k,y,d,v)))))},{flush:"post"}),l=()=>{u(),n()};return ie(n),l}function we(){const e=R(!1),t=P();return t&&H(()=>{e.value=!0},t),e}function Se(e){const t=we();return A(()=>(t.value,!!e()))}const be=Symbol("vueuse-ssr-width");function ke(){const e=K()?ue(be,null):null;return typeof e=="number"?e:void 0}function Ce(e,t={}){const{window:n=D,ssrWidth:r=ke()}=t,s=Se(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),u=_(typeof r=="number"),l=R(),a=R(!1),i=c=>{a.value=c.matches};return oe(()=>{if(u.value){u.value=!s.value;const c=b(e).split(",");a.value=c.some(m=>{const v=m.includes("not all"),k=m.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),y=m.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let d=!!(k||y);return k&&d&&(d=r>=I(k[1])),y&&d&&(d=r<=I(y[1])),v?!d:d});return}s.value&&(l.value=n.matchMedia(b(e)),a.value=l.value.matches)}),x(l,"change",i,{passive:!0}),A(()=>a.value)}const F=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L="__vueuse_ssr_handlers__",Ae=Me();function Me(){return L in F||(F[L]=F[L]||{}),F[L]}function Y(e,t){return Ae[e]||t}function Te(e){return Ce("(prefers-color-scheme: dark)",e)}function Oe(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const We={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},B="vueuse-storage";function Ee(e,t,n,r={}){var s;const{flush:u="pre",deep:l=!0,listenToStorageChanges:a=!0,writeDefaults:i=!0,mergeDefaults:c=!1,shallow:m,window:v=D,eventFilter:k,onError:y=o=>{console.error(o)},initOnMounted:d}=r,g=(m?R:_)(typeof t=="function"?t():t),w=A(()=>b(e));if(!n)try{n=Y("getDefaultStorage",()=>{var o;return(o=D)==null?void 0:o.localStorage})()}catch(o){y(o)}if(!n)return g;const S=b(t),E=Oe(S),T=(s=r.serializer)!=null?s:We[E],{pause:h,resume:M}=ye(g,()=>W(g.value),{flush:u,deep:l,eventFilter:k});z(w,()=>C(),{flush:u}),v&&a&&U(()=>{n instanceof Storage?x(v,"storage",C,{passive:!0}):x(v,B,O),d&&C()}),d||C();function j(o,f){if(v){const p={key:w.value,oldValue:o,newValue:f,storageArea:n};v.dispatchEvent(n instanceof Storage?new StorageEvent("storage",p):new CustomEvent(B,{detail:p}))}}function W(o){try{const f=n.getItem(w.value);if(o==null)j(f,null),n.removeItem(w.value);else{const p=T.write(o);f!==p&&(n.setItem(w.value,p),j(f,p))}}catch(f){y(f)}}function N(o){const f=o?o.newValue:n.getItem(w.value);if(f==null)return i&&S!=null&&n.setItem(w.value,T.write(S)),S;if(!o&&c){const p=T.read(f);return typeof c=="function"?c(p,S):E==="object"&&!Array.isArray(p)?{...S,...p}:p}else return typeof f!="string"?f:T.read(f)}function C(o){if(!(o&&o.storageArea!==n)){if(o&&o.key==null){g.value=S;return}if(!(o&&o.key!==w.value)){h();try{(o==null?void 0:o.newValue)!==T.write(g.value)&&(g.value=N(o))}catch(f){y(f)}finally{o?G(M):M()}}}}function O(o){C(o.detail)}return g}const je="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Ne(e={}){const{selector:t="html",attribute:n="class",initialValue:r="auto",window:s=D,storage:u,storageKey:l="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:i,emitAuto:c,disableTransition:m=!0}=e,v={auto:"",light:"light",dark:"dark",...e.modes||{}},k=Te({window:s}),y=A(()=>k.value?"dark":"light"),d=i||(l==null?Z(r):Ee(l,r,u,{window:s,listenToStorageChanges:a})),g=A(()=>d.value==="auto"?y.value:d.value),w=Y("updateHTMLAttrs",(h,M,j)=>{const W=typeof h=="string"?s==null?void 0:s.document.querySelector(h):X(h);if(!W)return;const N=new Set,C=new Set;let O=null;if(M==="class"){const f=j.split(/\s/g);Object.values(v).flatMap(p=>(p||"").split(/\s/g)).filter(Boolean).forEach(p=>{f.includes(p)?N.add(p):C.add(p)})}else O={key:M,value:j};if(N.size===0&&C.size===0&&O===null)return;let o;m&&(o=s.document.createElement("style"),o.appendChild(document.createTextNode(je)),s.document.head.appendChild(o));for(const f of N)W.classList.add(f);for(const f of C)W.classList.remove(f);O&&W.setAttribute(O.key,O.value),m&&(s.getComputedStyle(o).opacity,document.head.removeChild(o))});function S(h){var M;w(t,n,(M=v[h])!=null?M:h)}function E(h){e.onChanged?e.onChanged(h,S):S(h)}z(g,E,{flush:"post",immediate:!0}),U(()=>E(g.value));const T=A({get(){return c?d.value:g.value},set(h){d.value=h}});return Object.assign(T,{store:d,system:y,state:g})}function Le(e={}){const{valueDark:t="dark",valueLight:n=""}=e,r=Ne({...e,onChanged:(l,a)=>{var i;e.onChanged?(i=e.onChanged)==null||i.call(e,l==="dark",a,l):a(l)},modes:{dark:t,light:n}}),s=A(()=>r.system.value);return A({get(){return r.value==="dark"},set(l){const a=l?"dark":"light";s.value===a?r.value="auto":r.value=a}})}export{Fe as a,Le as u};
